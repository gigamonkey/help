{% extends 'layout.njk' %}

{% set title = "Prompts ðŸ¤”" %}
{% set class = "prompts" %}

{% block scripts %}
<script src="/js/check-required.js" type="module"></script>
{% endblock %}

{% block content %}

<form class="new-prompt" method="POST">
  <label for="text">Text</label>
  <textarea name="text" class="required"></textarea>
  <button id="submit">Make prompt</button>
</form>


{% if open.length > 0 %}

<h2>Open prompts</h2>
<table>
  <tbody>
    {% for p in open %}
    <tr>
      <td>{{ p.text | md | safe}}</td>
      <td class="actions">
        <a href="/c/{{class_id}}/prompts/{{p.prompt_id}}/close">Close</a>

      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>

{% endif %}

<h2>All prompts</h2>

{% if unique.length > 0 %}

<table>
  <tbody>
    {% for p in unique %}
    <tr>
      <td>{{ p.text | md | safe}}</td>
      <td class="actions">
        <a href="/c/{{class_id}}/prompts/{{p.prompt_id}}/again">Again</a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>

{% else %}

<p>No prompts yet.</p>

{% endif %}

{% endblock %}
