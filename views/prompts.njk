{% extends 'layout.njk' %}

{% set title = "Prompts ðŸ¤”" %}
{% set class = "prompts" %}

{% block scripts %}
<script src="/js/check-required.js" type="module"></script>
{% endblock %}

{% block content %}

<form class="new-prompt" method="POST">
  <label for="text">Text</label>
  <textarea name="text" class="required"></textarea>
  <button id="submit">Make prompt</button>
</form>

<table>
  <thead>
    <tr>
      <th>Text</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for p in prompts %}
    <tr>
      <td>{{ p.text }}</td>
      <td class="actions">
        {% if p.closed_at == null %}
        <a href="/c/{{class_id}}/prompts/{{p.prompt_id}}/close">Close</a>
        {% endif %}
        <a href="/c/{{class_id}}/prompts/{{p.prompt_id}}/again">Again</a>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>

{% endblock %}
